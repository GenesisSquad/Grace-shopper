/*! For license information please see main.957086a4.chunk.js.LICENSE.txt */
(this["webpackJsonpgrace-shopper"]=this["webpackJsonpgrace-shopper"]||[]).push([[0],{119:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(12),c=r.n(n),s=r(26),i=r(11),o=r.n(i),l=r(15),u=r(8),d=r(18),h=r(28),j=r(61),p=r(62),b=r(69),g=r(68),m=r(186),x=r(100),f=r(213),O=r(54),y=r(207),v=r(98),k=r.n(v),C=r(34),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,n,c,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,a=t.method,n=t.token,c=t.body,e.prev=1,s={method:a?a.toUpperCase():"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},n&&(s.headers.Authorization="Bearer ".concat(n)),e.next=6,fetch("".concat("/api/").concat(r),s);case 6:return i=e.sent,e.next=9,i.json();case 9:if(!(l=e.sent).error){e.next=12;break}throw l.error;case 12:return e.abrupt("return",l);case 15:return e.prev=15,e.t0=e.catch(1),console.error("ERROR: ",e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),S=r(6),N=r(184),L=Object(S.a)((function(e){return{root:{fontFamily:"tahoma",color:e.palette.getContrastText("#9B7D46"),backgroundColor:"#C0A572","&:hover":{backgroundColor:"#9B7D46"}}}}))(N.a),I=r(192),P=r(210),T=r(193),D=r(211),F=r(212),R=r(189),q=r(194),W=r(191),J=r(195),U=(r(119),r(96)),A=r.n(U),E=r(97),B=r.n(E),M=r(95),z=r.n(M),_=r(48),H=r(93),Q=r.n(H),Z=r(94),G=r.n(Z),X=r(185),K=r(187),V=r(188),Y=r(190),$=r(2),ee=Object(X.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},paper:Object(h.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(0),marginBottom:e.spacing(0),padding:e.spacing(1),justifyContent:"center"}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),te=function(e){var t,r=e.token,n=e.cart,c=e.setCart,i=e.real,d=e.toggleDrawer,h=e.userData,j=Object(a.useState)("inProgress"),p=Object(s.a)(j,2),b=p[0],g=p[1],x=Object(a.useState)(""),f=Object(s.a)(x,2),y=f[0],v=f[1],k=Object(u.e)(),C=ee(),S=function(){return n.reduce((function(e,t){var r=t.price,a=t.quantity;return e+parseFloat(r.slice(1))*a}),0)},I=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c([]),localStorage.setItem("cart",JSON.stringify([])),!(n&&n.length&&r)){e.next=5;break}return e.next=5,Promise.all(n.map(T));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var s,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a>0)){e.next=13;break}if(s=Object(_.a)(n),(i=s.indexOf(t))>=0&&(s[i].quantity=a),!h&&!JSON.parse(localStorage.getItem("user"))){e.next=12;break}return l=JSON.parse(localStorage.getItem("user")),e.next=8,w({token:r,url:"order_products/".concat(t.id)});case 8:return u=e.sent,d=u.filter((function(e){return e.userId===l.id&&"created"===e.status}))[0],e.next=12,w({token:r,url:"order_products/".concat(d.id),method:"PATCH",body:{product:{quantity:t.quantity}}});case 12:c(s);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h&&!JSON.parse(localStorage.getItem("user"))){e.next=10;break}return a=JSON.parse(localStorage.getItem("user")),e.next=4,w({token:r,url:"order_products/".concat(t.id)});case 4:return s=e.sent,i=s.filter((function(e){return e.userId===a.id&&"created"===e.status}))[0],l=n.filter((function(e){return e.id!==t.id})),e.next=9,w({token:r,method:"DELETE",url:"order_products/".concat(i.id)});case 9:c(l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)($.Fragment,{children:n&&n.length?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(m.a,{style:{width:"400px"},children:Object($.jsx)(K.a,{className:C.root,variant:"outlined",children:Object($.jsxs)(V.a,{children:[Object($.jsx)("div",{className:"products",children:n&&n.length>0?n.map((function(e,t){return Object($.jsxs)("div",{className:"product",children:[Object($.jsx)(O.a,{variant:"h5",component:"h2",children:e.name}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row",justifyContent:"space-around",alignItems:"center"},children:[Object($.jsx)(O.a,{className:C.pos,color:"textSecondary",children:e.price}),Object($.jsx)("input",{style:{maxWidth:"40px",marginRight:"10px"},type:"number",size:"1",maxLength:"1",value:e.quantity,onChange:function(t){return P(e,parseInt(t.target.value))}}),Object($.jsx)(N.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return T(e)},children:"Remove"})]}),Object($.jsx)(R.a,{style:{marginTop:"10px"}})]},t)})):Object($.jsx)(Y.a,{})}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsxs)(O.a,{variant:"h5",component:"h2",children:["Total: $",S()]})]})})}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row",justifyContent:"space-around",marginTop:"10px"},children:[Object($.jsx)(N.a,{variant:"contained",color:"secondary",size:"small",onClick:I,style:{marginRight:"10px"},children:"Clear Cart"}),i?Object($.jsx)(G.a,{token:(t=100*S(),function(){var e=Object(l.a)(o.a.mark((function e(r){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post("http://localhost:3001/api/stripe/pay",{source:r.id,currency:"USD",amount:t});case 3:a=e.sent,(n=a.data)&&n.success&&n.success.paid?(g("PAID"),v(n.success.receipt_url),window.location.href=n.success.receipt_url):(g("ERROR"),alert("there has been an error with your payment please try again")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),stripeKey:"pk_test_51IgESEAwKF3ow8u8iWs1EZ7w7SOHNw8zGEZZJ7cErTdZJfyvQ5iBSzWlQNC4Ngrkb24u8AbPrNP8ezMm1WpY5hhe0086gjXKtA",name:"Rhino Coffee",amount:100*S(),currency:"USD",billingAddress:!0,shippingAddress:!0,style:{marginLeft:"10px"}}):Object($.jsx)(L,{onClick:function(){k.push("/checkout"),d("right",!1)},children:"Checkout"})]})]}):"PAID"===b?Object($.jsxs)(W.a,{href:y,underline:!0,target:"_blank",children:[" ","RECEIPT"," "]}):Object($.jsx)("h3",{children:" Your cart is empty."})})},re=Object(S.a)((function(e){return{root:{fontFamily:"tahoma",color:e.palette.getContrastText("#9B7D46"),backgroundColor:"#9B7D46",display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center"}}}))(I.a),ae=Object(S.a)((function(e){return{root:{padding:"30px",color:"#ffff",border:"2px solid #fff",borderRadius:"0",width:"70%"}}}))(N.a),ne=function(e){var t=e.token,r=e.logOut,n=Object(u.e)(),c=Object(a.useState)({left:!1}),i=Object(s.a)(c,2),o=i[0],l=i[1],j=function(e,t){return function(r){("keydown"!==r.type||"Tab"!==r.key&&"Shift"!==r.key)&&l(Object(d.a)(Object(d.a)({},o),{},Object(h.a)({},e,t)))}};return Object($.jsx)($.Fragment,{children:Object($.jsxs)(P.a,{smUp:!0,children:[Object($.jsx)(T.a,{onClick:j("left",!0),children:Object($.jsx)(z.a,{style:{color:"#ffff"}})}),Object($.jsx)(D.a,{anchor:"left",open:o.left,onClose:j("left",!1),style:{width:"100%",height:"100%"},children:Object($.jsxs)(F.a,{style:{width:window.outerWidth,display:"flex",flexFlow:"column",justifyContent:"space-evenly",alignItems:"center",height:"100%",background:"#9B7D46"},children:[Object($.jsx)(ae,{onClick:function(){n.push("/account")},children:"My Account"}),t?Object($.jsx)(ae,{color:"inherit",onClick:r,children:"Logout"}):Object($.jsx)(ae,{color:"inherit",onClick:function(e){n.push("/login")},children:"Login"}),Object($.jsx)(ae,{color:"inherit",onClick:function(e){n.push("/about")},children:"About"}),Object($.jsx)(ae,{color:"inherit",onClick:function(e){n.push("/products")},children:"Products"})]})})]})})},ce=function(e){e.name;var t=e.token,r=e.setToken,n=(e.products,e.setUserData),c=e.cart,i=e.setCart,o=Object(u.e)(),l=function(){localStorage.clear(),n({}),r(""),o.push("/")},j=Object(a.useState)({left:!1}),p=Object(s.a)(j,2),b=p[0],g=p[1],m=function(e,t){return function(r){("keydown"!==r.type||"Tab"!==r.key&&"Shift"!==r.key)&&g(Object(d.a)(Object(d.a)({},b),{},Object(h.a)({},e,t)))}};return Object($.jsxs)(q.a,{position:"sticky",children:[Object($.jsxs)(re,{className:"header",color:"primary",children:[Object($.jsx)(ne,{token:t,logOut:l}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row",alignItems:"center"},children:[Object($.jsx)(f.a,{alt:"RC",src:"https://i.postimg.cc/Bv18bq7N/rhino-coffee.png",className:"HeaderLogo"}),Object($.jsx)(W.a,{style:{textDecoration:"none"},onClick:function(e){o.push("/")},children:Object($.jsx)("div",{className:"siteName",children:"Rhino Coffee"})})]}),Object($.jsx)("div",{children:Object($.jsxs)(P.a,{xsDown:!0,children:[Object($.jsx)(N.a,{color:"inherit",onClick:function(e){o.push("/about")},children:"About"}),Object($.jsx)(N.a,{color:"inherit",onClick:function(e){o.push("/products")},children:"Products"})]})}),Object($.jsxs)("div",{children:[Object($.jsxs)(P.a,{xsDown:!0,children:[t?Object($.jsx)(N.a,{color:"inherit",onClick:l,children:"Logout"}):Object($.jsx)(N.a,{color:"inherit",onClick:function(e){o.push("/login")},children:"Login"}),Object($.jsx)(T.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){o.push("/account")},color:"inherit",children:Object($.jsx)(A.a,{})})]}),Object($.jsx)(T.a,{"aria-label":"show shopping cart",color:"inherit",onClick:m("right",!0),children:Object($.jsx)(J.a,{badgeContent:c&&c.length?c.reduce((function(e,t){return e+t.quantity}),0):0,color:"secondary",children:Object($.jsx)(B.a,{})})})]})]}),Object($.jsx)(D.a,{anchor:"right",open:b.right,onClose:m("right",!1),children:Object($.jsxs)("div",{role:"presentation",children:[Object($.jsx)(R.a,{}),Object($.jsx)("div",{children:Object($.jsx)("h1",{className:"shoppingCart",children:"Shopping Cart:"})}),Object($.jsx)(te,{real:!1,token:t,cart:c,setCart:i,toggleDrawer:m})]})})]})},se=(r(88),{padding:20,height:"auto",width:280,margin:"20px auto"}),ie={backgroundColor:"rgb(74, 37, 37)"},oe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(e){var a;return Object(j.a)(this,r),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value,r=JSON.parse(localStorage.getItem("accountForm"));r[e.target.name]=t,a.setState(Object(h.a)({},e.target.name,t)),localStorage.setItem("accountForm",JSON.stringify(r))},a.handleSubmit=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n,c,s,i,l,u,h,j,p,b,g,m,x,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.state,n=r.action,c=r.password,s=r.username,i=r.confirmPass,l=r.firstName,u=r.lastName,h=r.email,"register"!==n){e.next=51;break}if(!(c&&s&&i&&l&&u&&h)){e.next=47;break}if(!(s.length>7&&c.length>7)){e.next=43;break}if(c!==i){e.next=39;break}return e.prev=6,a.isLoading=!0,e.next=10,w({url:"users/register",method:"POST",body:{username:s,password:c,firstName:l,lastName:u,email:h}});case 10:if(j=e.sent,b=null===(p=j)||void 0===p?void 0:p.token,delete(g=null===p||void 0===p?void 0:p.user).password,!b){e.next=23;break}g.token=b,a.props.setToken(b),localStorage.setItem("user",JSON.stringify(g)),localStorage.setItem("token",g.token),a.props.history.push("/"),e.next=25;break;case 23:return alert("register error, please try again"),e.abrupt("return");case 25:e.next=32;break;case 27:return e.prev=27,e.t0=e.catch(6),console.error(e.t0),alert("please try a different username"),e.abrupt("return");case 32:return e.prev=32,a.setState(Object(d.a)({},a.emptyState)),localStorage.setItem("accountForm",JSON.stringify(a.emptyState)),a.isLoading=!1,e.finish(32);case 37:e.next=41;break;case 39:return alert("Make sure both password and confirm password fields match"),e.abrupt("return");case 41:e.next=45;break;case 43:return alert("username & password length must be greater than 7 characters"),e.abrupt("return");case 45:e.next=49;break;case 47:return alert("Not all required fields have been filled in"),e.abrupt("return");case 49:e.next=80;break;case 51:if(!c||!s){e.next=78;break}if(!(c.length>7)){e.next=74;break}return e.prev=53,a.isLoading=!0,e.next=57,w({url:"users/login",method:"POST",body:{username:s,password:c}});case 57:m=e.sent,(f=null===(x=m)||void 0===x?void 0:x.token)?(a.props.setToken(f),localStorage.setItem("token",f),a.props.history.push("/")):alert("login error, please try again"),e.next=68;break;case 63:return e.prev=63,e.t1=e.catch(53),console.error(e.t1),alert("incorrect login"),e.abrupt("return");case 68:return e.prev=68,localStorage.setItem("accountForm",JSON.stringify(a.emptyState)),a.isLoading=!1,e.finish(68);case 72:e.next=76;break;case 74:return alert("password length must be greater than 7 characters"),e.abrupt("return");case 76:e.next=80;break;case 78:return alert("Not all required fields have been filled in"),e.abrupt("return");case 80:case"end":return e.stop()}}),e,null,[[6,27,32,37],[53,63,68,72]])})));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:"",confirmPass:"",firstName:"",lastName:"",email:"",action:a.props.action},a.emptyState={username:"",password:"",confirmPass:"",firstName:"",lastName:"",email:""},a.isLoading=!1,a.isLogin="login"===a.state.action,a.title=a.isLogin?"login":"register",a.oppositeTitle=a.isLogin?"register":"login",a.oppositeAction=a.isLogin?"Register":"Login",a.oppositeMessage=a.isLogin?"New to us?":"Have an account?",a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){localStorage.getItem("accountForm")?this.setState(JSON.parse(localStorage.getItem("accountForm"))):localStorage.setItem("accountForm",JSON.stringify(this.emptyState))}},{key:"render",value:function(){var e=this,t=this.state,r=t.action,a=t.password,n=t.username,c=t.confirmPass,s=t.firstName,i=t.lastName,o=t.email;return Object($.jsx)(m.a,{children:Object($.jsxs)(x.a,{elevation:10,style:se,children:[Object($.jsx)(m.a,{align:"center",children:Object($.jsx)(f.a,{style:ie,children:Object($.jsx)(k.a,{})})}),Object($.jsxs)("div",{className:"textt",children:[Object($.jsx)(O.a,{component:"h1",variant:"h5",className:"textt",children:this.title}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",value:n,autoComplete:"name",autoFocus:!0,onChange:this.handleChange}),"register"===r&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row"},children:[Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"FirstName",label:"first name",name:"firstName",value:s,autoComplete:"name",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(y.a,{style:{marginLeft:"10px"},disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"last name",name:"lastName",value:i,autoComplete:"name",autoFocus:!0,onChange:this.handleChange})]}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"email",name:"email",value:o,autoComplete:"name",autoFocus:!0,onChange:this.handleChange})]}),Object($.jsx)(y.a,{disabled:this.isLoading,type:"password",varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",value:a,onChange:this.handleChange}),"register"===r&&Object($.jsx)(y.a,{disabled:this.isLoading,type:"password",varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"confirmPass",label:"Confirm Password",name:"confirmPass",value:c,onChange:this.handleChange}),Object($.jsx)(L,{disabled:this.isLoading,fullWidth:!0,variant:"contained",color:"secondary",style:{marginTop:"10px"},onClick:this.handleSubmit,children:"Submit"}),Object($.jsxs)("span",{style:{display:"flex",flexFlow:"column",justifyContent:"center"},children:[Object($.jsxs)(C.b,{disabled:this.isLoading,to:"#",style:{marginTop:"15px"},onClick:function(){e.props.history.push("/".concat(e.oppositeAction))},children:[this.oppositeMessage," ",this.oppositeAction," here!"]}),Object($.jsx)(C.b,{disabled:this.isLoading,style:{display:"flex",marginTop:"10px",justifyContent:"center"},to:"#",onClick:function(){e.props.history.push("/")},children:"Continue as guest"})]})]})]})})}}]),r}(a.Component),le=Object(u.g)(oe),ue=r(196),de=r(197),he=(r(145),Object(X.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,paddingLeft:"60px",paddingRight:"60px"},gridList:{width:4e3,height:800,transform:"translateZ(0)"}}}))),je=[{imgUrl:"https://i.postimg.cc/Zq6BW9Mr/coffee-heart.jpg",title:"coffee-heart",cols:6},{imgUrl:"https://i.postimg.cc/XJtLcBgQ/8-cups.jpg",title:"8-cups",cols:6},{imgUrl:"https://i.postimg.cc/fLnV20zy/tea-display.jpg",title:"tea-display",cols:6},{imgUrl:"https://i.postimg.cc/4d5gMZYC/tea-image-2.jpg",title:"tea-image-2",cols:2},{imgUrl:"https://i.postimg.cc/7LPPtM7K/4-cups.jpg",title:"4-cups",cols:6},{imgUrl:"https://i.postimg.cc/CMQS65qG/coffee-cup-with-beans.jpg",title:"coffee-cup-with-beans",cols:6}],pe=function(){var e=he();return Object($.jsxs)("div",{className:e.root,children:[Object($.jsx)("span",{children:Object($.jsx)("h2",{className:"homeMessage",children:"Welcome to Rhino Coffee... Where Quality meets Taste!!!"})}),Object($.jsx)(ue.a,{cellHeight:400,spacing:1,className:e.gridList,children:je.map((function(e){return Object($.jsx)(de.a,{cols:e.featured?2:1,rows:e.featured?2:1,children:Object($.jsx)("img",{src:e.imgUrl,alt:e.title})},e.imgUrl)}))}),Object($.jsx)("span",{children:Object($.jsxs)("h2",{className:"homeMessage",children:["Send us your Instagram photos of you all enjoying Rhino Coffee products!","  ",Object($.jsx)("a",{href:"https://www.instagram.com/",children:Object($.jsx)("img",{alt:"Instagram.com",src:"https://i.postimg.cc/BZcwXVqX/insta-icon.png",width:"30",height:"30"})})]})})]})},be=r(208),ge=function(e){var t=e.product,r=e.cart,a=e.setCart,n=e.token,c=e.userOrders,s=Object(u.e)(),i=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,i,l,u,h,j,p,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.length?(s=Object(_.a)(r),(i=s.find((function(e){return t.id===e.id})))?i.quantity++:(i=Object(d.a)(Object(d.a)({},t),{},{quantity:1}),s.push(i))):s=[Object(d.a)(Object(d.a)({},t),{},{quantity:1})],a(s),localStorage.setItem("cart",JSON.stringify(s)),console.log("added item!!!, ",t),e.prev=4,!JSON.parse(localStorage.getItem("user"))){e.next=31;break}if(l=JSON.parse(localStorage.getItem("user")),console.log(l),console.log("NAME",t.name),u=c&&c.length?c.filter((function(e){return e.userId===l.id&&"created"===e.status}))[0]:void 0,console.log(u),u&&u.id){e.next=18;break}return console.log("creating cart"),e.next=15,w({url:"orders",method:"POST",token:n});case 15:h=e.sent,console.log(h),u=h;case 18:if(!r||!r.filter((function(e){return e.id===t.id}))[0]){e.next=27;break}return j=r.filter((function(e){return e.id===t.id}))[0],console.log("copyProduct :>> ",j),e.next=23,w({token:n,url:"order_products/".concat(u.id),method:"PATCH",body:{product:Object(d.a)(Object(d.a)({},j),{},{quantity:j.quantity+1})}});case 23:p=e.sent,console.log(p),e.next=31;break;case 27:return e.next=29,w({method:"POST",url:"orders/".concat(u.id,"/products"),body:{product:t},token:n});case 29:b=e.sent,console.log(b,"new cart!!!");case 31:e.next=36;break;case 33:throw e.prev=33,e.t0=e.catch(4),e.t0;case 36:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)(m.a,{container:!0,spacing:1,style:{maxWidth:1100,margin:" 20px auto "},children:[Object($.jsx)(m.a,{item:!0,sm:6,children:Object($.jsxs)(x.a,{children:[Object($.jsx)(N.a,{onClick:function(){s.push("/products")},children:"\u2190 Back to products"}),Object($.jsx)("img",{src:t.imageURL,width:"100%",alt:t.name})]})}),Object($.jsx)(m.a,{item:!0,sm:6,children:Object($.jsxs)(m.a,{container:!0,direction:"column",style:{height:"100%"},children:[Object($.jsx)(O.a,{variant:"h2",children:t.name}),Object($.jsx)(O.a,{variant:"subtitle2",children:t.category}),Object($.jsx)(R.a,{}),Object($.jsx)(be.a,{mt:2,style:{justifyContent:"space-between"},children:Object($.jsx)("div",{children:Object($.jsxs)(O.a,{variant:"subtitle1",children:[" ",t.description]})})}),Object($.jsxs)(be.a,{mt:"auto",children:[Object($.jsx)(O.a,{variant:"h5",children:t.price}),Object($.jsxs)(N.a,{onClick:function(){return i(t)},variant:"contained",color:"secondary",children:[" ","Add to cart"]})]})]})})]})},me=function(e){var t=e.products,r=e.cart,a=e.setCart,n=e.token,c=e.userOrders,s=Object(u.f)().productId;s=parseInt(s,10);var i=t.find((function(e){return s===e.id}));return Object($.jsx)($.Fragment,{children:i?Object($.jsx)(ge,{product:i,cart:r,setCart:a,token:n,userOrders:c}):Object($.jsxs)("div",{children:[Object($.jsx)(Y.a,{}),Object($.jsx)("h1",{children:"Loading"})]})})},xe=r(198),fe=r(199),Oe=r(200),ye=Object(X.a)((function(e){return{root:{flexGrow:1,minWidth:"350px",margin:"20px 60PX 20PX 60PX"},media:{height:0,paddingTop:"56.25%"},card:{minWidth:"280px"},bottomCard:{justifyContent:"space-between"}}})),ve=function(e){var t=e.product,r=(e.cart,e.setCart,e.userOrders,e.token,ye()),a=Object(u.e)();return Object($.jsx)(m.a,{item:!0,lg:3,children:Object($.jsxs)(K.a,{className:r.card,children:[Object($.jsx)(xe.a,{title:t.name,subheader:t.price}),Object($.jsx)(fe.a,{className:r.media,image:t.imageURL,style:{backgroundSize:"contain"},title:"Beverage"}),Object($.jsx)(V.a,{children:Object($.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:t.category})}),Object($.jsxs)(Oe.a,{className:r.bottomCard,disableSpacing:!0,children:[Object($.jsx)("div",{}),Object($.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(e){a.push("/products/".concat(t.id))},children:"More info"})]})]})})},ke=function(e){var t=e.products,r=(e.userData,e.cart),a=e.setCart,n=(e.userOrders,e.token,ye());return Object($.jsx)("div",{className:n.root,children:Object($.jsx)(m.a,{container:!0,spacing:5,direction:"row",justify:"center",alignItems:"center",children:t&&t.length?t.map((function(e,t){return Object($.jsx)(ve,{product:e,cart:r,setCart:a},e.id)})):Object($.jsxs)(m.a,{item:!0,children:[Object($.jsx)(Y.a,{})," "]})})})},Ce=Object(X.a)({root:{maxWidth:"auto"},media:{height:500}}),we=function(){var e=Ce();return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(K.a,{className:e.root,children:[Object($.jsx)(fe.a,{className:e.media,image:"https://i.postimg.cc/4xz9x0kD/gaslamp-quarter-archway.jpg",title:"Gasslamp Quarter Downtown San Diego"}),Object($.jsxs)(V.a,{children:[Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{gutterBottom:!0,variant:"h4",component:"h1",children:"Rhino Coffee"})}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{variant:"body1",color:"textPrimary",component:"p",justifyContent:"center",children:"Rhino Coffee began as an idea from four Software Engineers (Jasper, Nick, Eddie and Juno) and their love of coffee and tea. Based out of Downtown San Diego, California, right in the heart of the Gaslamp Quarter which is also very rich with history, we came up with a project called Genesis Squad. Since we were at the beginning of our journey with this idea, we also wanted to name our brand based on the origin of coffee. Rhinos are beautiful animals and we thought that though not indigenous to Ethiopia, the horn of Africa had great symbolism and thus, Rhino Coffee was born."})})]})]}),Object($.jsxs)(K.a,{className:e.root,children:[Object($.jsx)(fe.a,{className:e.media,image:"https://i.postimg.cc/K8vKCM01/ethopia-coffee.jpg",title:"Coffee Roots"}),Object($.jsxs)(V.a,{children:[Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{gutterBottom:!0,variant:"h4",component:"h1",children:"Coffee Roots"})}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{variant:"body1",color:"textPrimary",component:"p",justifyContent:"center",children:"Oh coffee, and what a rich history it has had since its birthplace in the hills of Ethiopia. To this day, its popularity is conitnually growing all over the world. Through the many miles it has traveled, it's been contested, shared, stolen, and obsessed over. Its roots in Africa help tell that story. We at Rhino Coffee appreciate these roots and how they have played a large part of that journey of coffee, its popularity, and how it continues to enhance our lives everyday. So from our table to yours, we hope our products will be something for all to share and enjoy!"})})]})]})]})},Se=r(201),Ne=r(202),Le=r(203),Ie=r(204),Pe=r(205),Te=r(206),De=Object(X.a)({table:{minWidth:650}});var Fe=function(e){var t=e.userOrders,r=De(),a=Object(u.e)();return Object($.jsx)(Se.a,{component:x.a,children:Object($.jsxs)(Ne.a,{className:r.table,"aria-label":"simple table",children:[Object($.jsx)(Le.a,{children:Object($.jsxs)(Ie.a,{children:[Object($.jsx)(Pe.a,{children:"Order Number "}),Object($.jsx)(Pe.a,{align:"right",children:"Order Status"}),Object($.jsx)(Pe.a,{align:"right",children:"Unique items in cart"}),Object($.jsx)(Pe.a,{align:"right",children:"Date placed"}),Object($.jsx)(Pe.a,{align:"right",children:"Action\xa0(what do you want to do with it)"})]})}),Object($.jsx)(Te.a,{children:t&&t.length?t.map((function(e){return Object($.jsxs)(Ie.a,{children:[Object($.jsx)(Pe.a,{component:"th",scope:"row",children:e.id}),Object($.jsx)(Pe.a,{align:"right",children:e.status}),Object($.jsx)(Pe.a,{align:"right",children:e.products.length}),Object($.jsx)(Pe.a,{align:"right",children:e.datePlaced}),Object($.jsx)(Pe.a,{align:"right",children:Object($.jsx)(N.a,{onClick:function(){a.push("/orders/".concat(e.id))},variant:"contained",color:"secondary",children:"View Order"})})]},e.id)})):Object($.jsx)("div",{})})]})})},Re=function(e){var t=e.userOrders,r=e.userData;return e.token?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"dashboard",children:Object($.jsxs)("h1",{children:["Hello, ",r?r.firstName:Object($.jsx)(Y.a,{}),"!"]})}),t.datePlaced,Object($.jsx)(Fe,{userOrders:t})]}):Object($.jsx)("div",{className:"sign-in-message",children:Object($.jsxs)("h1",{children:["Please ",Object($.jsx)(C.b,{to:"/login",children:"log in"})," to view your dashboard"]})})},qe=Object(X.a)({table:{minWidth:650}}),We=3,Je=1,Ue="$3",Ae=3,Ee=function(){var e=Object(u.e)(),t=qe();return Object($.jsxs)(Se.a,{component:x.a,children:[Object($.jsx)(N.a,{onClick:function(){e.push("/account")},children:"\u2190 Back to orders"}),Object($.jsxs)(Ne.a,{className:t.table,"aria-label":"simple table",children:[Object($.jsx)(Le.a,{children:Object($.jsxs)(Ie.a,{children:[Object($.jsx)(Pe.a,{children:"Order Id"}),Object($.jsx)(Pe.a,{children:"Product Id "}),Object($.jsx)(Pe.a,{children:"Product"}),Object($.jsx)(Pe.a,{align:"right",children:"Quantity"}),Object($.jsx)(Pe.a,{align:"right",children:"Price"})]})}),Object($.jsx)(Te.a,{children:Object($.jsxs)(Ie.a,{children:[Object($.jsx)(Pe.a,{component:"th",scope:"row",children:Je}),Object($.jsx)(Pe.a,{component:"th",scope:"row",children:We}),Object($.jsx)(Pe.a,{component:"th",scope:"row",children:"PRODUCT"}),Object($.jsx)(Pe.a,{align:"right",children:Ae}),Object($.jsx)(Pe.a,{align:"right",children:Ue})]})})]}),Object($.jsx)(N.a,{onClick:function(){},variant:"contained",color:"secondary",children:"Edit Order"})," ",Object($.jsx)(N.a,{onClick:function(){},variant:"contained",color:"secondary",children:"Cancel Order"})," "]})},Be=function(e){var t=e.token,r=e.cart,a=e.setCart,n=e.userData;return Object($.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexFlow:"column",alignItems:"center"},children:[Object($.jsx)("div",{children:Object($.jsx)("h1",{className:"shoppingCart",children:"Checkout:"})}),Object($.jsx)(te,{token:t,cart:r,setCart:a,real:!0,userData:n})]})},Me={padding:20,height:"auto",width:280,margin:"20px auto"},ze=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(e){var a;return Object(j.a)(this,r),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value;a.setState(Object(h.a)({},e.target.name,t))},a.handleSubmit=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n,c,s,i,l,u,h,j,p,b,g,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.state,n=r.action,c=r.name,s=r.description,i=r.category,l=r.price,u=r.imageURL,"create"!==n){e.next=23;break}if(!(c&&s&&i&&l&&u)){e.next=21;break}return e.prev=4,a.isLoading=!0,e.next=8,w({url:"products",method:"POST",body:{name:c,description:s,category:i,price:l,imageURL:u}});case 8:h=e.sent,j=h,p=a.props.products,j&&(a.props.setProducts([].concat(Object(_.a)(p),[j])),a.props.history.push("/products")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:return e.prev=17,a.setState(Object(d.a)({},a.emptyState)),a.isLoading=!1,e.finish(17);case 21:e.next=46;break;case 23:if(!(c&&s&&i&&l&&u)){e.next=44;break}return e.prev=24,a.isLoading=!0,e.next=28,w({url:"products/:productId",method:"PATCH",body:{name:c,description:s,category:i,price:l,imageURL:u}});case 28:b=e.sent,(m=null===(g=b)||void 0===g?void 0:g.token)&&(a.props.setToken(m),localStorage.setItem("token",m),a.props.history.push("/")),e.next=39;break;case 34:return e.prev=34,e.t1=e.catch(24),console.error(e.t1),alert("incorrect login"),e.abrupt("return");case 39:return e.prev=39,a.isLoading=!1,e.finish(39);case 42:e.next=46;break;case 44:return alert("Not all required fields have been filled in"),e.abrupt("return");case 46:case"end":return e.stop()}}),e,null,[[4,14,17,21],[24,34,39,42]])})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",description:"",category:"",price:"",imageURL:"",action:a.props.action,products:a.props.products,setProducts:a.props.setProducts},a.emptyState={name:"",description:"",category:"",price:"",imageURL:""},a.isLoading=!1,a.create="create"===a.state.action,a.title=a.create?"Create Product":"Update Product",a.oppositeTitle=a.create?"create":"update",a.oppositeAction=a.create?"create":"update",a}return Object(p.a)(r,[{key:"render",value:function(){var e=this.state,t=e.name,r=e.description,a=e.category,n=e.price,c=e.imageURL;return Object($.jsx)(m.a,{children:Object($.jsxs)(x.a,{elevation:10,style:Me,children:[Object($.jsx)(m.a,{align:"center"}),Object($.jsxs)("div",{className:"textt",children:[Object($.jsx)(O.a,{component:"h1",variant:"h5",className:"textt",children:this.title}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"name",name:"name",value:t,autoComplete:"name",autoFocus:!0,onChange:this.handleChange}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row"},children:[Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"category",label:"category",name:"category",value:a,autoComplete:"category",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(y.a,{style:{marginLeft:"10px"},disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"price",name:"price",value:n,autoComplete:"price",autoFocus:!0,onChange:this.handleChange})]}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"description",name:"description",value:r,autoComplete:"description",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"imageURL",label:"imageURL",name:"imageURL",value:c,autoComplete:"image url",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(L,{disabled:this.isLoading,fullWidth:!0,variant:"contained",color:"secondary",style:{marginTop:"10px"},onClick:this.handleSubmit,children:"Submit"}),Object($.jsx)("span",{style:{display:"flex",flexFlow:"column",justifyContent:"center"}})]})]})})}}]),r}(a.Component),_e=Object(u.g)(ze),He=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"orders/cart",token:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"products"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"users/me",token:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(l.a)(o.a.mark((function e(t,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"users/".concat(t,"/orders"),token:r});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var Xe=function(){var e=Object(a.useState)(localStorage.getItem("token")),t=Object(s.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),d=i[0],h=i[1],j=Object(a.useState)(JSON.parse(localStorage.getItem("user"))||{}),p=Object(s.a)(j,2),b=p[0],g=p[1],m=Object(a.useState)(JSON.parse(localStorage.getItem("cart"))||[]),x=Object(s.a)(m,2),f=x[0],O=x[1],y=Object(a.useState)([]),v=Object(s.a)(y,2),k=v[0],C=v[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:if((t=e.sent)&&h(t),!r){e.next=22;break}return e.next=8,Ze(r);case 8:return a=e.sent,localStorage.setItem("user",JSON.stringify(a)),g(a),e.next=13,He(r);case 13:return n=e.sent,c=n.products,localStorage.setItem("cart",JSON.stringify(c)||JSON.stringify([])),O(c),e.t0=C,e.next=20,Ge(a.id,r);case 20:e.t1=e.sent,(0,e.t0)(e.t1);case 22:e.next=27;break;case 24:e.prev=24,e.t2=e.catch(0),console.error(e.t2);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ce,{products:d,userData:b,setUserData:g,cart:f,setCart:O,token:r,setToken:n}),Object($.jsx)(u.a,{exact:!0,path:"/",children:Object($.jsx)(pe,{products:d,token:r})}),Object($.jsx)(u.a,{path:"/login",children:Object($.jsx)(le,{action:"login",setToken:n})}),Object($.jsx)(u.a,{path:"/register",children:Object($.jsx)(le,{action:"register",setToken:n})}),Object($.jsx)(u.a,{exact:!0,path:"/products/:productId",children:Object($.jsx)(me,{products:d,cart:f,setCart:O,token:r,userOrders:k})}),Object($.jsx)(u.a,{exact:!0,path:"/products",children:Object($.jsx)(ke,{products:d,cart:f,setCart:O,userOrders:k,token:r})}),Object($.jsx)(u.a,{path:"/about",children:Object($.jsx)(we,{})}),Object($.jsx)(u.a,{exact:!0,path:"/account",children:Object($.jsx)(Re,{userData:b,token:r,userOrders:k})}),Object($.jsx)(u.a,{exact:!0,path:"/orders/:orderId",children:Object($.jsx)(Ee,{})}),Object($.jsx)(u.a,{exact:!0,path:"/checkout",children:Object($.jsx)(Be,{token:r,cart:f,setCart:O,userData:b})}),Object($.jsx)(u.a,{exact:!0,path:"/admin-create-product",children:Object($.jsx)(_e,{action:"create",userData:b,token:r,setToken:n,products:d,setProducts:h})}),Object($.jsx)(u.a,{exact:!0,path:"/admin-update/:productId",children:Object($.jsx)(_e,{action:"login",userData:b,token:r,setToken:n,products:d,setProducts:h})})]})};c.a.render(Object($.jsx)(C.a,{children:Object($.jsx)(Xe,{})}),document.getElementById("root"))},88:function(e,t,r){}},[[146,1,2]]]);
//# sourceMappingURL=main.957086a4.chunk.js.map