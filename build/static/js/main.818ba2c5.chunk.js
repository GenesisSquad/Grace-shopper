/*! For license information please see main.818ba2c5.chunk.js.LICENSE.txt */
(this["webpackJsonpgrace-shopper"]=this["webpackJsonpgrace-shopper"]||[]).push([[0],{120:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(13),c=a.n(n),i=a(15),s=a(8),o=a.n(s),l=a(12),u=a(10),d=a(22),h=a(28),j=a(61),p=a(62),b=a(69),g=a(68),m=a(188),f=a(101),x=a(215),O=a(57),y=a(209),v=a(98),k=a.n(v),C=a(35),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,n,c,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=t.method,n=t.token,c=t.body,e.prev=1,i={method:r?r.toUpperCase():"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},n&&(i.headers.Authorization="Bearer ".concat(n)),e.next=6,fetch("".concat("http://localhost:3001/api/").concat(a),i);case 6:return s=e.sent,e.next=9,s.json();case 9:if(!(l=e.sent).error){e.next=12;break}throw l.error;case 12:return e.abrupt("return",l);case 15:return e.prev=15,e.t0=e.catch(1),console.error("ERROR: ",e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),S=a(6),N=a(186),L=Object(S.a)((function(e){return{root:{fontFamily:"tahoma",color:e.palette.getContrastText("#9B7D46"),backgroundColor:"#C0A572","&:hover":{backgroundColor:"#9B7D46"}}}}))(N.a),I=a(193),P=a(212),T=a(194),F=a(213),D=a(214),R=a(191),q=a(195),W=a(196),J=a(197),U=(a(120),a(96)),A=a.n(U),B=a(97),E=a.n(B),M=a(95),z=a.n(M),Q=a(41),Z=a(93),G=a.n(Z),H=a(94),X=a.n(H),K=a(187),_=a(189),V=a(190),Y=a(192),$=a(1),ee=Object(K.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},paper:Object(h.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(0),marginBottom:e.spacing(0),padding:e.spacing(1),justifyContent:"center"}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),te=function(e){var t,a=e.token,r=e.cart,n=e.setCart,c=e.real,i=e.toggleDrawer,s=e.userData,d=Object(u.e)(),h=ee(),j=function(){return r.reduce((function(e,t){var a=t.price,r=t.quantity;return e+parseFloat(a.slice(1))*r}),0)},p=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n([]),localStorage.setItem("cart",JSON.stringify([]));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var i,l,u,d,h,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c>0)){e.next=21;break}if(console.log("amount:",c),i=Object(Q.a)(r),console.log("newCart",i),l=i.indexOf(t),console.log(l),l>=0&&(i[l].quantity=c),!s&&!JSON.parse(localStorage.getItem("user"))){e.next=20;break}return u=JSON.parse(localStorage.getItem("user")),console.log(u),e.next=12,w({token:a,url:"order_products/".concat(t.id)});case 12:return d=e.sent,console.log(d),h=d.filter((function(e){return e.userId===u.id&&"created"===e.status}))[0],console.log("order: ",h),e.next=18,w({token:a,url:"order_products/".concat(h.id),method:"PATCH",body:{product:{quantity:t.quantity}}});case 18:j=e.sent,console.log(j);case 20:n(i);case 21:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s&&!JSON.parse(localStorage.getItem("user"))){e.next=14;break}return c=JSON.parse(localStorage.getItem("user")),e.next=4,w({token:a,url:"order_products/".concat(t.id)});case 4:return i=e.sent,console.log(i),l=i.filter((function(e){return e.userId===c.id&&"created"===e.status}))[0],console.log("order: ",l),u=r.filter((function(e){return e.id!==t.id})),e.next=11,w({token:a,method:"DELETE",url:"order_products/".concat(t.id)});case 11:d=e.sent,n(u),console.log(d);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)($.Fragment,{children:r&&r.length?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(m.a,{style:{width:"400px"},children:Object($.jsx)(_.a,{className:h.root,variant:"outlined",children:Object($.jsxs)(V.a,{children:[Object($.jsx)("div",{className:"products",children:r&&r.length>0?r.map((function(e,t){return Object($.jsxs)("div",{className:"product",children:[Object($.jsx)(O.a,{variant:"h5",component:"h2",children:e.name}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row",justifyContent:"space-around",alignItems:"center"},children:[Object($.jsx)(O.a,{className:h.pos,color:"textSecondary",children:e.price}),Object($.jsx)("input",{style:{maxWidth:"40px",marginRight:"10px"},type:"number",size:"1",maxLength:"1",value:e.quantity,onChange:function(t){return b(e,parseInt(t.target.value))}}),Object($.jsx)(N.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return g(e)},children:"Remove"})]}),Object($.jsx)(R.a,{style:{marginTop:"10px"}})]},t)})):Object($.jsx)(Y.a,{})}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsxs)(O.a,{variant:"h5",component:"h2",children:["Total: $",j()]})]})})}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row",justifyContent:"space-around",marginTop:"10px"},children:[Object($.jsx)(N.a,{variant:"contained",color:"secondary",size:"small",onClick:p,style:{marginRight:"10px"},children:"Clear Cart"}),c?Object($.jsx)(X.a,{token:(t=100*j(),function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("http://localhost:3001/api/stripe/pay",{source:a.id,currency:"USD",amount:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),stripeKey:"pk_test_51IgESEAwKF3ow8u8iWs1EZ7w7SOHNw8zGEZZJ7cErTdZJfyvQ5iBSzWlQNC4Ngrkb24u8AbPrNP8ezMm1WpY5hhe0086gjXKtA",name:"Rhino Coffee",amount:100*j(),currency:"USD",billingAddress:!0,shippingAddress:!0,style:{marginLeft:"10px"}}):Object($.jsx)(L,{onClick:function(){d.push("/checkout"),i("right",!1)},children:"Checkout"})]})]}):Object($.jsx)("h3",{children:" Your cart is empty."})})},ae=Object(S.a)((function(e){return{root:{fontFamily:"tahoma",color:e.palette.getContrastText("#9B7D46"),backgroundColor:"#9B7D46",display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center"}}}))(I.a),re=Object(S.a)((function(e){return{root:{padding:"30px",color:"#ffff",border:"2px solid #fff",borderRadius:"0",width:"70%"}}}))(N.a),ne=function(e){var t=e.token,a=e.logOut,n=Object(u.e)(),c=Object(r.useState)({left:!1}),s=Object(i.a)(c,2),o=s[0],l=s[1],j=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&l(Object(d.a)(Object(d.a)({},o),{},Object(h.a)({},e,t)))}};return Object($.jsx)($.Fragment,{children:Object($.jsxs)(P.a,{smUp:!0,children:[Object($.jsx)(T.a,{onClick:j("left",!0),children:Object($.jsx)(z.a,{style:{color:"#ffff"}})}),Object($.jsx)(F.a,{anchor:"left",open:o.left,onClose:j("left",!1),style:{width:"100%",height:"100%"},children:Object($.jsxs)(D.a,{style:{width:window.outerWidth,display:"flex",flexFlow:"column",justifyContent:"space-evenly",alignItems:"center",height:"100%",background:"#9B7D46"},children:[Object($.jsx)(re,{onClick:function(){n.push("/account")},children:"My Account"}),t?Object($.jsx)(re,{color:"inherit",onClick:a,children:"Logout"}):Object($.jsx)(re,{color:"inherit",onClick:function(e){n.push("/login")},children:"Login"}),Object($.jsx)(re,{color:"inherit",onClick:function(e){n.push("/about")},children:"About"}),Object($.jsx)(re,{color:"inherit",onClick:function(e){n.push("/products")},children:"Products"})]})})]})})},ce=function(e){e.name;var t=e.token,a=e.setToken,n=(e.products,e.setUserData),c=e.cart,s=e.setCart,o=Object(u.e)(),l=function(){localStorage.clear(),n({}),a(""),o.push("/")},j=Object(r.useState)({left:!1}),p=Object(i.a)(j,2),b=p[0],g=p[1],m=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&g(Object(d.a)(Object(d.a)({},b),{},Object(h.a)({},e,t)))}};return Object($.jsxs)(q.a,{position:"sticky",children:[Object($.jsxs)(ae,{className:"header",color:"primary",children:[Object($.jsx)(ne,{token:t,logOut:l}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row",alignItems:"center"},children:[Object($.jsx)(x.a,{alt:"RC",src:"https://i.postimg.cc/Bv18bq7N/rhino-coffee.png",className:"HeaderLogo"}),Object($.jsx)(W.a,{style:{textDecoration:"none"},onClick:function(e){o.push("/")},children:Object($.jsx)("div",{className:"siteName",children:"Rhino Coffee"})})]}),Object($.jsx)("div",{children:Object($.jsxs)(P.a,{xsDown:!0,children:[Object($.jsx)(N.a,{color:"inherit",onClick:function(e){o.push("/about")},children:"About"}),Object($.jsx)(N.a,{color:"inherit",onClick:function(e){o.push("/products")},children:"Products"})]})}),Object($.jsxs)("div",{children:[Object($.jsxs)(P.a,{xsDown:!0,children:[t?Object($.jsx)(N.a,{color:"inherit",onClick:l,children:"Logout"}):Object($.jsx)(N.a,{color:"inherit",onClick:function(e){o.push("/login")},children:"Login"}),Object($.jsx)(T.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){o.push("/account")},color:"inherit",children:Object($.jsx)(A.a,{})})]}),Object($.jsx)(T.a,{"aria-label":"show shopping cart",color:"inherit",onClick:m("right",!0),children:Object($.jsx)(J.a,{badgeContent:c&&c.length?c.reduce((function(e,t){return e+t.quantity}),0):0,color:"secondary",children:Object($.jsx)(E.a,{})})})]})]}),Object($.jsx)(F.a,{anchor:"right",open:b.right,onClose:m("right",!1),children:Object($.jsxs)("div",{role:"presentation",children:[Object($.jsx)(R.a,{}),Object($.jsx)("div",{children:Object($.jsx)("h1",{className:"shoppingCart",children:"Shopping Cart:"})}),Object($.jsx)(te,{real:!1,token:t,cart:c,setCart:s,toggleDrawer:m})]})})]})},ie=(a(88),{padding:20,height:"auto",width:280,margin:"20px auto"}),se={backgroundColor:"rgb(74, 37, 37)"},oe=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target.value,a=JSON.parse(localStorage.getItem("accountForm"));a[e.target.name]=t,r.setState(Object(h.a)({},e.target.name,t)),localStorage.setItem("accountForm",JSON.stringify(a))},r.handleSubmit=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c,i,s,l,u,h,j,p,b,g,m,f,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.state,n=a.action,c=a.password,i=a.username,s=a.confirmPass,l=a.firstName,u=a.lastName,h=a.email,"register"!==n){e.next=42;break}if(!(c&&i&&s&&l&&u&&h)){e.next=38;break}if(!(i.length>7&&c.length>7)){e.next=34;break}if(c!==s){e.next=30;break}return e.prev=6,r.isLoading=!0,e.next=10,w({url:"users/register",method:"POST",body:{username:i,password:c,firstName:l,lastName:u,email:h}});case 10:j=e.sent,b=null===(p=j)||void 0===p?void 0:p.token,delete(g=null===p||void 0===p?void 0:p.user).password,b&&(g.token=b,r.props.setToken(b),localStorage.setItem("user",JSON.stringify(g)),localStorage.setItem("token",g.token),r.props.history.push("/")),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(6),console.error(e.t0),alert("please try a different username"),e.abrupt("return");case 23:return e.prev=23,r.setState(Object(d.a)({},r.emptyState)),localStorage.setItem("accountForm",JSON.stringify(r.emptyState)),r.isLoading=!1,e.finish(23);case 28:e.next=32;break;case 30:return alert("Make sure both password and confirm password fields match"),e.abrupt("return");case 32:e.next=36;break;case 34:return alert("username & password length must be greater than 7 characters"),e.abrupt("return");case 36:e.next=40;break;case 38:return alert("Not all required fields have been filled in"),e.abrupt("return");case 40:e.next=71;break;case 42:if(!c||!i){e.next=69;break}if(!(c.length>7)){e.next=65;break}return e.prev=44,r.isLoading=!0,e.next=48,w({url:"users/login",method:"POST",body:{username:i,password:c}});case 48:m=e.sent,(x=null===(f=m)||void 0===f?void 0:f.token)&&(r.props.setToken(x),localStorage.setItem("token",x),r.props.history.push("/")),e.next=59;break;case 54:return e.prev=54,e.t1=e.catch(44),console.error(e.t1),alert("incorrect login"),e.abrupt("return");case 59:return e.prev=59,localStorage.setItem("accountForm",JSON.stringify(r.emptyState)),r.isLoading=!1,e.finish(59);case 63:e.next=67;break;case 65:return alert("password length must be greater than 7 characters"),e.abrupt("return");case 67:e.next=71;break;case 69:return alert("Not all required fields have been filled in"),e.abrupt("return");case 71:case"end":return e.stop()}}),e,null,[[6,18,23,28],[44,54,59,63]])})));return function(t){return e.apply(this,arguments)}}(),r.state={username:"",password:"",confirmPass:"",firstName:"",lastName:"",email:"",action:r.props.action},r.emptyState={username:"",password:"",confirmPass:"",firstName:"",lastName:"",email:""},r.isLoading=!1,r.isLogin="login"===r.state.action,r.title=r.isLogin?"login":"register",r.oppositeTitle=r.isLogin?"register":"login",r.oppositeAction=r.isLogin?"Register":"Login",r.oppositeMessage=r.isLogin?"New to us?":"Have an account?",r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("accountForm")?this.setState(JSON.parse(localStorage.getItem("accountForm"))):localStorage.setItem("accountForm",JSON.stringify(this.emptyState))}},{key:"render",value:function(){var e=this,t=this.state,a=t.action,r=t.password,n=t.username,c=t.confirmPass,i=t.firstName,s=t.lastName,o=t.email;return Object($.jsx)(m.a,{children:Object($.jsxs)(f.a,{elevation:10,style:ie,children:[Object($.jsx)(m.a,{align:"center",children:Object($.jsx)(x.a,{style:se,children:Object($.jsx)(k.a,{})})}),Object($.jsxs)("div",{className:"textt",children:[Object($.jsx)(O.a,{component:"h1",variant:"h5",className:"textt",children:this.title}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",value:n,autoComplete:"name",autoFocus:!0,onChange:this.handleChange}),"register"===a&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row"},children:[Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"FirstName",label:"first name",name:"firstName",value:i,autoComplete:"name",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(y.a,{style:{marginLeft:"10px"},disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"last name",name:"lastName",value:s,autoComplete:"name",autoFocus:!0,onChange:this.handleChange})]}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"email",name:"email",value:o,autoComplete:"name",autoFocus:!0,onChange:this.handleChange})]}),Object($.jsx)(y.a,{disabled:this.isLoading,type:"password",varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",value:r,onChange:this.handleChange}),"register"===a&&Object($.jsx)(y.a,{disabled:this.isLoading,type:"password",varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"confirmPass",label:"Confirm Password",name:"confirmPass",value:c,onChange:this.handleChange}),Object($.jsx)(L,{disabled:this.isLoading,fullWidth:!0,variant:"contained",color:"secondary",style:{marginTop:"10px"},onClick:this.handleSubmit,children:"Submit"}),Object($.jsxs)("span",{style:{display:"flex",flexFlow:"column",justifyContent:"center"},children:[Object($.jsxs)(C.b,{disabled:this.isLoading,to:"#",style:{marginTop:"15px"},onClick:function(){e.props.history.push("/".concat(e.oppositeAction))},children:[this.oppositeMessage," ",this.oppositeAction," here!"]}),Object($.jsx)(C.b,{disabled:this.isLoading,style:{display:"flex",marginTop:"10px",justifyContent:"center"},to:"#",onClick:function(){e.props.history.push("/")},children:"Continue as guest"})]})]})]})})}}]),a}(r.Component),le=Object(u.g)(oe),ue=a(198),de=a(199),he=(a(146),Object(K.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,paddingLeft:"60px",paddingRight:"60px"},gridList:{width:4e3,height:800,transform:"translateZ(0)"}}}))),je=[{imgUrl:"https://i.postimg.cc/Zq6BW9Mr/coffee-heart.jpg",title:"coffee-heart",cols:6},{imgUrl:"https://i.postimg.cc/XJtLcBgQ/8-cups.jpg",title:"8-cups",cols:6},{imgUrl:"https://i.postimg.cc/fLnV20zy/tea-display.jpg",title:"tea-display",cols:6},{imgUrl:"https://i.postimg.cc/4d5gMZYC/tea-image-2.jpg",title:"tea-image-2",cols:2},{imgUrl:"https://i.postimg.cc/7LPPtM7K/4-cups.jpg",title:"4-cups",cols:6},{imgUrl:"https://i.postimg.cc/CMQS65qG/coffee-cup-with-beans.jpg",title:"coffee-cup-with-beans",cols:6}],pe=function(){var e=he();return Object($.jsxs)("div",{className:e.root,children:[Object($.jsx)("span",{children:Object($.jsx)("h2",{className:"homeMessage",children:"Welcome to Rhino Coffee... Where Quality meets Taste!!!"})}),Object($.jsx)(ue.a,{cellHeight:400,spacing:1,className:e.gridList,children:je.map((function(e){return Object($.jsx)(de.a,{cols:e.featured?2:1,rows:e.featured?2:1,children:Object($.jsx)("img",{src:e.imgUrl,alt:e.title})},e.imgUrl)}))}),Object($.jsx)("span",{children:Object($.jsxs)("h2",{className:"homeMessage",children:["Send us your Instagram photos of you all enjoying Rhino Coffee products!","  ",Object($.jsx)("a",{href:"https://www.instagram.com/",children:Object($.jsx)("img",{alt:"Instagram.com",src:"https://i.postimg.cc/BZcwXVqX/insta-icon.png",width:"30",height:"30"})})]})})]})},be=a(210),ge=function(e){var t=e.product,a=e.cart,r=e.setCart,n=e.token,c=e.userOrders,i=Object(u.e)(),s=function(){var e=Object(l.a)(o.a.mark((function e(t){var i,s,l,u,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(Q.a)(a),(s=i.find((function(e){return t.id===e.id})))?s.quantity++:(s=Object(d.a)(Object(d.a)({},t),{},{quantity:1}),i.push(s)),r(i),console.log("added item!!!, ",t),e.prev=5,!JSON.parse(localStorage.getItem("user"))){e.next=16;break}return l=JSON.parse(localStorage.getItem("user")),console.log(l),console.log("NAME",t.name),u=c.filter((function(e){return e.userId===l.id&&"created"===e.status}))[0],console.log("order: ",u.id),e.next=14,w({method:"POST",url:"orders/".concat(u.id,"/products"),body:{product:t},token:n});case 14:h=e.sent,console.log(h,"new cart!!!");case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(5),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)(m.a,{container:!0,spacing:1,style:{maxWidth:1100,margin:" 20px auto "},children:[Object($.jsx)(m.a,{item:!0,sm:6,children:Object($.jsxs)(f.a,{children:[Object($.jsx)(N.a,{onClick:function(){i.push("/products")},children:"\u2190 Back to products"}),Object($.jsx)("img",{src:t.imageURL,width:"100%",alt:t.name})]})}),Object($.jsx)(m.a,{item:!0,sm:6,children:Object($.jsxs)(m.a,{container:!0,direction:"column",style:{height:"100%"},children:[Object($.jsx)(O.a,{variant:"h2",children:t.name}),Object($.jsx)(O.a,{variant:"subtitle2",children:t.category}),Object($.jsx)(R.a,{}),Object($.jsx)(be.a,{mt:2,style:{justifyContent:"space-between"},children:Object($.jsx)("div",{children:Object($.jsxs)(O.a,{variant:"subtitle1",children:[" ",t.description]})})}),Object($.jsxs)(be.a,{mt:"auto",children:[Object($.jsx)(O.a,{variant:"h5",children:t.price}),Object($.jsxs)(N.a,{onClick:function(){return s(t)},variant:"contained",color:"secondary",children:[" ","Add to cart"]})]})]})})]})},me=function(e){var t=e.products,a=e.cart,r=e.setCart,n=e.token,c=e.userOrders,i=Object(u.f)().productId;i=parseInt(i,10);var s=t.find((function(e){return i===e.id}));return Object($.jsx)($.Fragment,{children:s?Object($.jsx)(ge,{product:s,cart:a,setCart:r,token:n,userOrders:c}):Object($.jsxs)("div",{children:[Object($.jsx)(Y.a,{}),Object($.jsx)("h1",{children:"Loading"})]})})},fe=a(200),xe=a(201),Oe=a(202),ye=a(99),ve=a.n(ye),ke=Object(K.a)((function(e){return{root:{flexGrow:1,minWidth:"350px",margin:"20px 60PX 20PX 60PX"},media:{height:0,paddingTop:"56.25%"},card:{minWidth:"280px"},bottomCard:{justifyContent:"space-between"}}})),Ce=function(e){var t=e.product,a=e.cart,r=e.setCart,n=ke(),c=Object(u.e)(),i=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(Q.a)(a),(c=n.find((function(e){return t.id===e.id})))?c.quantity++:(c=Object(d.a)(Object(d.a)({},t),{},{quantity:1}),n.push(c)),r(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(m.a,{item:!0,lg:3,children:Object($.jsxs)(_.a,{className:n.card,children:[Object($.jsx)(fe.a,{title:t.name,subheader:t.price}),Object($.jsx)(xe.a,{className:n.media,image:t.imageURL,style:{backgroundSize:"contain"},title:"Beverage"}),Object($.jsx)(V.a,{children:Object($.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:t.category})}),Object($.jsxs)(Oe.a,{className:n.bottomCard,disableSpacing:!0,children:[Object($.jsx)("div",{children:Object($.jsx)(T.a,{"aria-label":"addShopping cart icon",onClick:function(){return i(t)},children:Object($.jsx)(ve.a,{})})}),Object($.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(e){c.push("/products/".concat(t.id))},children:"More info"})]})]})})},we=function(e){var t=e.products,a=(e.userData,e.cart),r=e.setCart,n=ke();return Object($.jsx)("div",{className:n.root,children:Object($.jsx)(m.a,{container:!0,spacing:5,direction:"row",justify:"center",alignItems:"center",children:t&&t.length?t.map((function(e,t){return Object($.jsx)(Ce,{product:e,cart:a,setCart:r},e.id)})):Object($.jsxs)(m.a,{item:!0,children:[Object($.jsx)(Y.a,{})," "]})})})},Se=Object(K.a)({root:{maxWidth:"auto"},media:{height:500}}),Ne=function(){var e=Se();return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(_.a,{className:e.root,children:[Object($.jsx)(xe.a,{className:e.media,image:"https://i.postimg.cc/4xz9x0kD/gaslamp-quarter-archway.jpg",title:"Gasslamp Quarter Downtown San Diego"}),Object($.jsxs)(V.a,{children:[Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{gutterBottom:!0,variant:"h4",component:"h1",children:"Rhino Coffee"})}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{variant:"body1",color:"textPrimary",component:"p",justifyContent:"center",children:"Rhino Coffee began as an idea from four Software Engineers (Jasper, Nick, Eddie and Juno) and their love of coffee and tea. Based out of Downtown San Diego, California, right in the heart of the Gaslamp Quarter which is also very rich with history, we came up with a project called Genesis Squad. Since we were at the beginning of our journey with this idea, we also wanted to name our brand based on the origin of coffee. Rhinos are beautiful animals and we thought that though not indigenous to Ethiopia, the horn of Africa had great symbolism and thus, Rhino Coffee was born."})})]})]}),Object($.jsxs)(_.a,{className:e.root,children:[Object($.jsx)(xe.a,{className:e.media,image:"https://i.postimg.cc/K8vKCM01/ethopia-coffee.jpg",title:"Coffee Roots"}),Object($.jsxs)(V.a,{children:[Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{gutterBottom:!0,variant:"h4",component:"h1",children:"Coffee Roots"})}),Object($.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object($.jsx)(O.a,{variant:"body1",color:"textPrimary",component:"p",justifyContent:"center",children:"Oh coffee, and what a rich history it has had since its birthplace in the hills of Ethiopia. To this day, its popularity is conitnually growing all over the world. Through the many miles it has traveled, it's been contested, shared, stolen, and obsessed over. Its roots in Africa help tell that story. We at Rhino Coffee appreciate these roots and how they have played a large part of that journey of coffee, its popularity, and how it continues to enhance our lives everyday. So from our table to yours, we hope our products will be something for all to share and enjoy!"})})]})]})]})},Le=a(203),Ie=a(204),Pe=a(205),Te=a(206),Fe=a(207),De=a(208),Re=Object(K.a)({table:{minWidth:650}});var qe=function(e){var t=e.userOrders,a=Re(),r=Object(u.e)(),n=t.map((function(e){return t=e.id,a=e.status,r=e.products.length,n=e.datePlaced,{id:t,status:a,quantity:r,datePlaced:n};var t,a,r,n}));return Object($.jsx)(Le.a,{component:f.a,children:Object($.jsxs)(Ie.a,{className:a.table,"aria-label":"simple table",children:[Object($.jsx)(Pe.a,{children:Object($.jsxs)(Te.a,{children:[Object($.jsx)(Fe.a,{children:"Order Number (id)"}),Object($.jsx)(Fe.a,{align:"right",children:"Order Status (status)"}),Object($.jsx)(Fe.a,{align:"right",children:"Items in cart (Order length)"}),Object($.jsx)(Fe.a,{align:"right",children:"Date placed"}),Object($.jsx)(Fe.a,{align:"right",children:"Action\xa0(what do you want to do with it)"})]})}),Object($.jsx)(De.a,{children:n.map((function(e){return Object($.jsxs)(Te.a,{children:[Object($.jsx)(Fe.a,{component:"th",scope:"row",children:e.id}),Object($.jsx)(Fe.a,{align:"right",children:e.status}),Object($.jsx)(Fe.a,{align:"right",children:e.quantity}),Object($.jsx)(Fe.a,{align:"right",children:e.datePlaced}),Object($.jsx)(Fe.a,{align:"right",children:Object($.jsx)(N.a,{onClick:function(){r.push("/orders/".concat(e.id))},variant:"contained",color:"secondary",children:"View Order"})})]},e.id)}))})]})})},We=function(e){var t=e.userOrders,a=e.userData;return e.token?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"dashboard",children:Object($.jsxs)("h1",{children:["Hello, ",a?a.firstName:Object($.jsx)(Y.a,{}),"!"]})}),t.datePlaced,Object($.jsx)(qe,{userOrders:t})]}):Object($.jsx)("div",{className:"sign-in-message",children:Object($.jsxs)("h1",{children:["Please ",Object($.jsx)(C.b,{to:"/login",children:"log in"})," to view your dashboard"]})})},Je=Object(K.a)({table:{minWidth:650}}),Ue=3,Ae=1,Be="$3",Ee=3,Me=function(){var e=Object(u.e)(),t=Je();return Object($.jsxs)(Le.a,{component:f.a,children:[Object($.jsx)(N.a,{onClick:function(){e.push("/account")},children:"\u2190 Back to orders"}),Object($.jsxs)(Ie.a,{className:t.table,"aria-label":"simple table",children:[Object($.jsx)(Pe.a,{children:Object($.jsxs)(Te.a,{children:[Object($.jsx)(Fe.a,{children:"Order Id"}),Object($.jsx)(Fe.a,{children:"Product Id "}),Object($.jsx)(Fe.a,{children:"Product"}),Object($.jsx)(Fe.a,{align:"right",children:"Quantity"}),Object($.jsx)(Fe.a,{align:"right",children:"Price"})]})}),Object($.jsx)(De.a,{children:Object($.jsxs)(Te.a,{children:[Object($.jsx)(Fe.a,{component:"th",scope:"row",children:Ae}),Object($.jsx)(Fe.a,{component:"th",scope:"row",children:Ue}),Object($.jsx)(Fe.a,{component:"th",scope:"row",children:"PRODUCT"}),Object($.jsx)(Fe.a,{align:"right",children:Ee}),Object($.jsx)(Fe.a,{align:"right",children:Be})]})})]}),Object($.jsx)(N.a,{onClick:function(){},variant:"contained",color:"secondary",children:"Edit Order"})," ",Object($.jsx)(N.a,{onClick:function(){},variant:"contained",color:"secondary",children:"Cancel Order"})," "]})},ze=(a(147),function(e){var t=e.token,a=e.cart,r=e.setCart,n=e.userData;return Object($.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexFlow:"column",alignItems:"center"},children:[Object($.jsx)("div",{children:Object($.jsx)("h1",{className:"shoppingCart",children:"Checkout:"})}),Object($.jsx)(te,{token:t,cart:a,setCart:r,real:!0,userData:n})]})}),Qe={padding:20,height:"auto",width:280,margin:"20px auto"},Ze=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target.value;r.setState(Object(h.a)({},e.target.name,t))},r.handleSubmit=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c,i,s,l,u,h,j,p,b,g,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.state,n=a.action,c=a.name,i=a.description,s=a.category,l=a.price,u=a.imageURL,"create"!==n){e.next=23;break}if(!(c&&i&&s&&l&&u)){e.next=21;break}return e.prev=4,r.isLoading=!0,e.next=8,w({url:"products",method:"POST",body:{name:c,description:i,category:s,price:l,imageURL:u}});case 8:h=e.sent,j=h,p=r.props.products,j&&(r.props.setProducts([].concat(Object(Q.a)(p),[j])),r.props.history.push("/products"),console.log("newproducucucu",j)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:return e.prev=17,r.setState(Object(d.a)({},r.emptyState)),r.isLoading=!1,e.finish(17);case 21:e.next=46;break;case 23:if(!(c&&i&&s&&l&&u)){e.next=44;break}return e.prev=24,r.isLoading=!0,e.next=28,w({url:"products/:productId",method:"PATCH",body:{name:c,description:i,category:s,price:l,imageURL:u}});case 28:b=e.sent,(m=null===(g=b)||void 0===g?void 0:g.token)&&(r.props.setToken(m),localStorage.setItem("token",m),r.props.history.push("/")),e.next=39;break;case 34:return e.prev=34,e.t1=e.catch(24),console.error(e.t1),alert("incorrect login"),e.abrupt("return");case 39:return e.prev=39,r.isLoading=!1,e.finish(39);case 42:e.next=46;break;case 44:return alert("Not all required fields have been filled in"),e.abrupt("return");case 46:case"end":return e.stop()}}),e,null,[[4,14,17,21],[24,34,39,42]])})));return function(t){return e.apply(this,arguments)}}(),r.state={name:"",description:"",category:"",price:"",imageURL:"",action:r.props.action,products:r.props.products,setProducts:r.props.setProducts},r.emptyState={name:"",description:"",category:"",price:"",imageURL:""},r.isLoading=!1,r.create="create"===r.state.action,r.title=r.create?"Create Product":"Update Product",r.oppositeTitle=r.create?"create":"update",r.oppositeAction=r.create?"create":"update",r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,r=e.category,n=e.price,c=e.imageURL;return Object($.jsx)(m.a,{children:Object($.jsxs)(f.a,{elevation:10,style:Qe,children:[Object($.jsx)(m.a,{align:"center"}),Object($.jsxs)("div",{className:"textt",children:[Object($.jsx)(O.a,{component:"h1",variant:"h5",className:"textt",children:this.title}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"name",name:"name",value:t,autoComplete:"name",autoFocus:!0,onChange:this.handleChange}),Object($.jsxs)("div",{style:{display:"flex",flexFlow:"row"},children:[Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"category",label:"category",name:"category",value:r,autoComplete:"category",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(y.a,{style:{marginLeft:"10px"},disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"price",name:"price",value:n,autoComplete:"price",autoFocus:!0,onChange:this.handleChange})]}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"description",name:"description",value:a,autoComplete:"description",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(y.a,{disabled:this.isLoading,varient:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"imageURL",label:"imageURL",name:"imageURL",value:c,autoComplete:"image url",autoFocus:!0,onChange:this.handleChange}),Object($.jsx)(L,{disabled:this.isLoading,fullWidth:!0,variant:"contained",color:"secondary",style:{marginTop:"10px"},onClick:this.handleSubmit,children:"Submit"}),Object($.jsx)("span",{style:{display:"flex",flexFlow:"column",justifyContent:"center"}})]})]})})}}]),a}(r.Component),Ge=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"orders/cart",token:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"products"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"users/me",token:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"users/".concat(t,"/orders"),token:a});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var _e=function(){var e=Object(r.useState)(localStorage.getItem("token")),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),s=Object(i.a)(c,2),d=s[0],h=s[1],j=Object(r.useState)(JSON.parse(localStorage.getItem("user"))||{}),p=Object(i.a)(j,2),b=p[0],g=p[1],m=Object(r.useState)(JSON.parse(localStorage.getItem("cart"))||[]),f=Object(i.a)(m,2),x=f[0],O=f[1],y=Object(r.useState)([]),v=Object(i.a)(y,2),k=v[0],C=v[1];return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He();case 3:if((t=e.sent)&&h(t),!a){e.next=22;break}return e.next=8,Xe(a);case 8:return r=e.sent,localStorage.setItem("user",JSON.stringify(r)),g(r),e.next=13,Ge(a);case 13:return n=e.sent,c=n.products,localStorage.setItem("cart",JSON.stringify(c)||JSON.stringify([])),O(c),e.t0=C,e.next=20,Ke(r.id,a);case 20:e.t1=e.sent,(0,e.t0)(e.t1);case 22:e.next=27;break;case 24:e.prev=24,e.t2=e.catch(0),console.error(e.t2);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ce,{products:d,userData:b,setUserData:g,cart:x,setCart:O,token:a,setToken:n}),Object($.jsx)(u.a,{exact:!0,path:"/",children:Object($.jsx)(pe,{products:d,token:a})}),Object($.jsx)(u.a,{path:"/login",children:Object($.jsx)(le,{action:"login",setToken:n})}),Object($.jsx)(u.a,{path:"/register",children:Object($.jsx)(le,{action:"register",setToken:n})}),Object($.jsx)(u.a,{exact:!0,path:"/products/:productId",children:Object($.jsx)(me,{products:d,cart:x,setCart:O,token:a,userOrders:k})}),Object($.jsx)(u.a,{exact:!0,path:"/products",children:Object($.jsx)(we,{products:d,cart:x,setCart:O})}),Object($.jsx)(u.a,{path:"/about",children:Object($.jsx)(Ne,{})}),Object($.jsx)(u.a,{exact:!0,path:"/account",children:Object($.jsx)(We,{userData:b,token:a,userOrders:k})}),Object($.jsx)(u.a,{exact:!0,path:"/orders/:orderId",children:Object($.jsx)(Me,{})}),Object($.jsx)(u.a,{exact:!0,path:"/checkout",children:Object($.jsx)(ze,{token:a,cart:x,setCart:O,userData:b})}),Object($.jsx)(u.a,{exact:!0,path:"/admin-create-product",children:Object($.jsx)(Ze,{action:"create",userData:b,token:a,setToken:n,products:d,setProducts:h})}),Object($.jsx)(u.a,{exact:!0,path:"/admin-update/:productId",children:Object($.jsx)(Ze,{action:"login",userData:b,token:a,setToken:n,products:d,setProducts:h})})]})};c.a.render(Object($.jsx)(C.a,{children:Object($.jsx)(_e,{})}),document.getElementById("root"))},88:function(e,t,a){}},[[148,1,2]]]);
//# sourceMappingURL=main.818ba2c5.chunk.js.map